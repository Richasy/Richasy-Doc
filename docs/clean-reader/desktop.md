---
sidebar_position: 1
---

# Windows 桌面版介绍

干净阅读采用了微软 Fluent Design，为 Windows 11 设计，整体操作符合桌面操作习惯。

目前干净阅读支持 TXT，EPUB 和网络小说阅读，适合喜欢阅读小说的人群。

应用已在 Github 开源，包括应用本体及阅读器核心，还有重制前的旧版： [Clean Reader](https://github.com/Clean-Reader)

你可以在商店购买稳定版本：[Microsoft Store](https://www.microsoft.com/en-us/p/clean-reader/9mv65l2xfcsk)

:::tip
新版的干净阅读为了尽可能完善地支持本地阅读，使用了 Windows App SDK 开发，默认使用 `runFullTrust` 权限。该权限用于通过路径直接读取文件内容，而不必经过用户交互。
这是一个敏感的权限，所以应用选择开源以示坦诚。
:::

:::warning
由于开源，所以将关闭商店的试用版。想要试用应用，你可以在 [Github Release](https://github.com/Clean-Reader/CleanReader.Desktop/releases) 下载侧加载包，并按照仓库自述文件安装。  
由于使用了不同的证书，侧加载包和商店版本可以共存。  
Github会进行较为频繁的更新，而商店版本一月更新一次。两者一个为尝鲜版，一个为稳定版。如果你喜欢这个应用，可以在商店购买以支持作者哟~
:::

## 书库

干净阅读使用完全本地化的数据存储方式。用户在首次启动应用后需要使用一个空文件夹创建一个书库。

![书库选择](/img/clean-reader/startup.png)

选择好空白文件夹后，应用会在该文件夹内创建一些内容，包括：

- `.booksource`：书源文件夹，每个书源都独立为一个文件，关于书源的具体内容，请查看 [书源定义](./booksource)
- `.covers`：封面文件夹，这里会存放一些书籍的临时封面
- `books`：书籍文件夹，所有被导入到书库中的书籍都会放在这里，请不要随意修改书籍名称
- `meta.db`：书库数据库，基于Sqlite，里面包含了书库的全部数据，比如书架列表、历史数据等
- `theme.json`：预设主题，是在阅读时的一组预定义的参数，可以用来调整阅读界面的背景色/前景色等，更多内容，可以查看 [主题配置](./theme)

:::tip
当你通过应用打开某个书库后，如果要切换到其它书库，请在应用设置里关闭书库即可。
:::

## 书籍导入

创建书库后即可进入应用主页面，此时书库内还没有书籍，您可以通过点击应用左上角的 `添加书籍` 按钮来导入本地书籍或者查找在线小说。

![导入书籍](/img/clean-reader/importButton.png)

### 本地导入

在 **选择添加方式** 中选择 **从本地导入** 即可，在打开的文件选择器中选择对应的书籍文件即可导入到书库中。目前应用仅支持 TXT 和 EPUB 文件。

导入的书籍将会在书库里的 `books` 文件夹创建一个备份，不会影响到被导入的文件。

#### TXT 章节切分

由于 TXT 本身是纯文本文件，不包含目录信息，应用默认的拆分章节正则表达式不见得适用于所有的情况，所以当你导入 TXT 文件时需要额外的拆分章节的步骤：

![章节拆分](/img/clean-reader/txtSplit.png)

如果默认的正则表达式的拆分结果不符合您的需要，您可以根据实际情况自己写一个拆分章节的正则表达式，关于正则表达式的规则，请参考：[正则表达式 - 语法](https://www.runoob.com/regexp/regexp-syntax.html)。

:::warning
请确保拆分的章节有效，因为应用会根据拆分结果，将 TXT 文件转换为带目录的 EPUB 文件并导入书库，一旦结果不合预期，你可能需要重新导入。
:::

### 在线搜索

应用将会根据关键词从目前已有的书源中进行搜索，调用的是书源各自的搜索逻辑，所以不保证其匹配程度，也不支持排序。

![搜索](/img/clean-reader/search.png)

找到合适的书籍后，选中即可将其导入。

应用会下载选中的书籍，并按照章节排列，转换为 EPUB 文件，以后就可以在离线状态下阅读了。

:::tip
我个人更推荐使用单一书源进行搜索，速度会更快。
:::

## 阅读

在书架页面点击书籍即可打开对应的阅读界面。

新的阅读器使用 [WebView2](https://docs.microsoft.com/zh-cn/microsoft-edge/webview2/) + [Epub.js](https://github.com/futurepress/epub.js) 构建，由于全面采用了网页技术，所以在解析 EPUB 时不会经过额外的转换，解决了上一代应用常出现的解析错误。

### 快捷操作

遵循一般逻辑，点击页面左侧或按下键盘的左方向键 `←` 即切换至上一页，点击页面右侧或按下键盘的右方向键 `→` 即切换至下一页。

点击屏幕中间即可唤出底部阅读菜单：

![阅读菜单](/img/clean-reader/readerMenu.png)

按下快捷键 `Ctrl` + `←` 切换至上一章节，`Ctrl` + `→` 切换至下一章节。

### 界面设置

在阅读菜单中点击 `界面`，或使用快捷键 `Ctrl` + `I` 即可唤出界面设置对话框。

![界面设置](/img/clean-reader/interfaceSetting.png)

应用提供一组预设主题，即在对话框顶部。你也可以通过修改书库文件夹内的 `theme.json` 来添加或修改预设主题。

### 高亮与笔记

在阅读界面中，你可以选中文本，在弹出菜单中选择第一个高亮按钮，不光可以高亮选中文本，还能进行笔记记录。

![阅读器选中菜单](/img/clean-reader/readerSelect.png)

你可以在高亮对话框中选择预设颜色，或者点击颜色方块选择自定义的颜色，并在下方的文本框中写下笔记。

![高亮](/img/clean-reader/highlight.png)

在高亮完成后，你可以点击高亮区域以弹出高亮对话框，随时修改颜色或笔记。

在阅读界面中，通过阅读菜单->更多->打开笔记管理，或者按 `Ctrl` + `N` 就能打开当前书籍的笔记列表，点击对应笔记即可快速跳转。

在主页的 **笔记管理** 中，你能够查看/编辑不同书籍下的笔记，并且可以通过右键菜单的选项来打开对应的书籍并跳转到高亮位置。

![笔记管理](/img/clean-reader/highlightManage.png)

:::warning
所有记录的笔记都会存入书库的数据库中，与书籍绑定，一旦书籍被移除，相关笔记也会消失
:::

### 切换视图

除了基本的窗口阅读，应用也提供了 `全屏` 和 `迷你` 两种视图。

全屏的快捷键是 `F11`，迷你视图会开启一个置顶小窗口，同时使用迷你字号（默认为14），快捷键是 `Ctrl` + `M`。

### 其它

你能看到阅读界面包含了非常丰富的功能，除了基本阅读所需的目录外，还有包括搜索/翻译等附加功能。

其中搜索功能会根据置顶关键词查询全书，提供一个搜索结果，点击结果条目即可跳转。

![文内搜索](/img/clean-reader/innerSearch.png)

翻译功能目前比较简单，它能通过谷歌翻译（部分地区需要翻墙）将选中文本翻译为当前的UI语言。所以如果你阅读的是外文书籍，该功能将有效帮助你跨越语言障碍。但是如果你读的是母语书籍，该功能也并不会翻译成别的语言。

![翻译](/img/clean-reader/translate.png)

通常来说，我们在桌面上可能更习惯于双栏阅读，但对于某些设备（比如 Surface），我们也可能希望竖持时单栏阅读。

此时则可以在应用中修改双栏阅读阈值，将其调整为一个较高的值，在应用宽度低于该值时，阅读器将不会分栏阅读。默认阈值是1000.

![分栏设置](/img/clean-reader/spread.png)

## 书架和同步

应用使用书架来提供基本的分类功能，你可以右键某个书目将其转移到另外的书架，也可以在设置界面中进行书架管理。

![转移书架](/img/clean-reader/shelfTransfer.png)

同步功能目前仍处于试验阶段，它的基本工作原理是先筛选出所有的在线书籍，然后逐一获取每个书籍的详情，并与其最新章节比对，如果有更新，则下载更新的章节并重新生成 EPUB 文件。所以如果你有比较多的在线书籍，这一过程耗时可能较长。

## 探索

探索模块需要书源支持，应用会根据书源中的规则来获取对应的数据并展示，具体的发现模块请参考 [书源定义](./booksource)

![发现](/img/clean-reader/explore.png)

如果想将发现模块中的书籍加入书架，则需要右键书目，在上下文菜单中将其加入书架。

## 阅读时长

应用会记录你在每一本书上的阅读时长，并通过该界面展示出来，你使用应用看的书越多，看书的时间越久，这个界面就越丰富：

![时长](/img/clean-reader/duration.png)

点击书籍卡片，你可以看到详细的阅读时间段记录，它可能不太直观，但在未来会提供导出和报表生成的功能。

![时长详情](/img/clean-reader/durationDetail.png)

## 快捷键

|快捷键|说明|
|-|-|
|`Shift` + `C`|阅读界面打开目录|
|`Backspace`|退出阅读界面|
|`F11`|阅读界面进入全屏|
|`Ctrl` + `I`|阅读界面打开界面设置对话框|
|`Ctrl` + `F`|阅读界面打开搜索对话框|
|`Ctrl` + `N`|阅读界面打开笔记面板|
|`Ctrl` + `M`|阅读界面进入迷你视图|
|`Ctrl` + `←`|切换到上一章节|
|`Ctrl` + `→`|切换到下一章节|
|`←`|切换到上一页|
|`→`|切换到下一页|